<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <!-- Include necessary CSS stylesheets and JavaScript libraries -->
  <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <!-- jQuery library -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <style>
    body, h1, p, ul, nav, a {
    margin: 0;
    padding: 0;
}
h1{
  text-align: center;
}
/* Main styles */
body {
    font-family: Arial, sans-serif;
    background-color: #212529;

}


h2{
  margin-top: 2rem;
}

.content {
    max-width: 800px;
    margin: 20px auto;
    border-radius: 10px;
    padding: 20px;
    background-color: #5b5b5d;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  color:#fff;
}

    table {
      background-color: #5b5b5d;
      color: #fff;
    }

    th {
      background-color: #343a40;
    }

    .btn {
      color: #fff;
    }

    .btn-primary {
      background-color: #343a40;
      border-color: #343a40;
      
    }
#show-class-form, #show-subject-form, #show-user-form{
  margin-bottom: 1rem;
}
    .btn-primary:hover {
      background-color: #212529;
      border-color: #212529;
    }

    .btn-danger {
      background-color: #dc3545;
      border-color: #dc3545;
    }

    .btn-danger:hover {
      background-color: #b02a37;
      border-color: #b02a37;
    }

    .form-control {
      background-color: #c7c7c7;
      color: #343a40;
    }

    .btn-success {
      background-color: #28a745;
      border-color: #28a745;
      margin-bottom: 1rem;
    }

    .btn-success:hover {
      background-color: #1f9431;
      border-color: #1f9431;
    }
    input, select{
      margin-bottom: 10px;
    }
    label{
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  {% include 'nav.html' %}
  <div class="content">
    <h1>Admin Panel</h1>
    <hr>
    <h2>Classes</h2>

    <!-- Display a table of classes with edit and delete buttons -->
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Class Name</th>
          <th>Field</th>
          <th>Level</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop through classes from the database and populate the table -->
        <!-- Example data, replace with dynamic data from the server -->
        <tr>
          <td>1</td>
          <td>Mathematics</td>
          <td>Science</td>
          <td>10</td>
          <td>
            <button class="btn btn-primary btn-sm edit-class" data-id="1">Edit</button>
            <button class="btn btn-danger btn-sm delete-class" data-id="1">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Add new class form -->

    <button class="btn btn-primary" id="show-class-form">Add Class</button>
    <form id="add-class-form" style="display: none;">
      <div class="form-group">
        <label for="class-name">Class Name:</label>
        <input type="text" class="form-control" id="class-name" required>
      </div>
      <div class="form-group">
        <label for="class-field">Field:</label>
        <input type="text" class="form-control" id="class-field" required>
      </div>
      <div class="form-group">
        <label for="class-level">Level:</label>
        <input type="number" class="form-control" id="class-level" required>
      </div>
      <button type="submit" class="btn btn-success">Add Class</button>
    </form>
    <hr>
    <h2>Subjects</h2>

    <!-- Display a table of subjects with edit and delete buttons -->
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Subject Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop through subjects from the database and populate the table -->
        <!-- Example data, replace with dynamic data from the server -->
        <tr>
          <td>1</td>
          <td>Physics</td>
          <td>
            <button class="btn btn-primary btn-sm edit-subject" data-id="1">Edit</button>
            <button class="btn btn-danger btn-sm delete-subject" data-id="1">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Add new subject form -->

    <button class="btn btn-primary" id="show-subject-form">Add Subject</button>
    <form id="add-subject-form" style="display: none;">
      <div class="form-group">
        <label for="subject-name">Subject Name:</label>
        <input type="text" class="form-control" id="subject-name" required>
      </div>
      <button type="submit" class="btn btn-success">Add Subject</button>
    </form>
    <hr>
    <h2>Professors</h2>
<div id="user-form-container" style="display: none;">
    <form id="user-edit-form">
      <input type="hidden" id="user-id" name="user-id">
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" class="form-control" id="username" name="username" required>
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" class="form-control" id="email" name="email" required>
      </div>
      <button type="submit" class="btn btn-success">Save</button>
    </form>
  </div>
    <!-- Display a table of users with edit and delete buttons -->
    <table class="table">
      <thead>
          <tr>
                <th>Username</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Degree</th>
                <th>Specialization</th>
                <th>Action</th>
            </tr>
      </thead>
      <tbody>
        {% for professor in professors %}
            <tr>
                <td>{{ professor.user.username }}</td>
                <td>{{ professor.user.f_name }}</td>
                <td>{{ professor.user.l_name }}</td>
                <td>{{ professor.degree }}</td>
                <td>{{ professor.specialization }}</td>
                <td>
                   
                  <button class="btn btn-primary btn-sm edit-user" data-id="1">Edit</button>
            <form method="POST" action="/delete_professor/{{ professor.user_id }}" onsubmit="return confirm('Are you sure you want to delete this professor?')" style="display:inline;">
                        <input type="hidden" name="_method" value="DELETE">
                        <button class="btn btn-danger btn-sm delete-user" type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
    
      </tbody>
    </table>
    <!-- Add new user form -->

    <button class="btn btn-primary" id="show-user-form">Add Professor</button>
    <form id="add-user-form" style="display: none;" method="POST">
        {{ form.hidden_tag() }}
        <p>
            {{ form.username.label }}<br>
            {{ form.username(size=20) }}
            {% for error in form.username.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{ form.password.label }}<br>
            {{ form.password(size=20) }}
            {% for error in form.password.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{ form.f_name.label }}<br>
            {{ form.f_name(size=20) }}
            {% for error in form.f_name.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{ form.l_name.label }}<br>
            {{ form.l_name(size=20) }}
            {% for error in form.l_name.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{ form.degree.label }}<br>
            {{ form.degree(size=20) }}
            {% for error in form.degree.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            {{ form.specialization.label }}<br>
            {{ form.specialization(size=20) }}
            {% for error in form.specialization.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </p>
        <p>
            <input type="submit" class="btn btn-success" value="Add Professor">
        </p>
    </form>
  </div>
  {% include 'footer.html' %}
  <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
  <script>

$(document).ready(function () {
      $('.edit-user').click(function () {
        var userId = $(this).data('id');
        $('#user-id').val(userId); // Store the ID in the hidden field
        $('#user-form-container').show();
        // Perform necessary actions to fetch user data based on the ID and populate the form fields
      });

      $('#user-edit-form').submit(function (e) {
        e.preventDefault();
        var userId = $('#user-id').val(); // Retrieve the stored ID from the hidden field
        var username = $('#username').val();
        var email = $('#email').val();
        // Process the form data (including the ID) and send it to the appropriate backend route for saving
      });
    });





    
    $(document).ready(function () {
      // Show class form
      $('#show-class-form').click(function () {
        $('#add-class-form').toggle();
      });

      // Show subject form
      $('#show-subject-form').click(function () {
        $('#add-subject-form').toggle();
      });

      // Show user form
      $('#show-user-form').click(function () {
        $('#add-user-form').toggle();
      });

      // Add class form submission
      $('#add-class-form').submit(function (e) {
        e.preventDefault();
        // Process form data and send it to the appropriate Flask route
      });

      // Add subject form submission
      $('#add-subject-form').submit(function (e) {
        e.preventDefault();
        // Process form data and send it to the appropriate Flask route
      });


      // Edit class button click
      $('.edit-class').click(function () {
        var classId = $(this).data('id');
        // Perform necessary actions to edit the class with the given ID
      });

      // Delete class button click
      $('.delete-class').click(function () {
        var classId = $(this).data('id');
        // Perform necessary actions to delete the class with the given ID
      });

      // Edit subject button click
      $('.edit-subject').click(function () {
        var subjectId = $(this).data('id');
        // Perform necessary actions to edit the subject with the given ID
      });

      // Delete subject button click
      $('.delete-subject').click(function () {
        var subjectId = $(this).data('id');
        // Perform necessary actions to delete the subject with the given ID
      });

      // Edit user button click
      $('.edit-user').click(function () {
        var userId = $(this).data('id');
        // Perform necessary actions to edit the user with the given ID
      });

      // Delete user button click
      $('.delete-user').click(function () {
        var userId = $(this).data('id');
        // Perform necessary actions to delete the user with the given ID
      });
    });
  </script>
</body>



</body>
</html>
